## Fund Me

- Необходимо пройти [Lesson 4: Remix Fund Me](https://github.com/smartcontractkit/full-blockchain-solidity-course-js#lesson-4-remix-fund-me), обязательно повторить функционал из урока - т.е самостоятельно написать контракт который будет иметь функционал для депозита и вывода эфира, а также будет производить проверку и отклонять транзакцию если количество переданного эфира по стоимости меньше $25.
- Протестировать свой контракт в тестовой сети.
- Пройтись по литературе на которую приведены ссылки в репозитории урока.

## Какие навыки даст задание?

> Важно! Круто если получится воспроизвести функционал контракта без подсматриваний в урок. Либо итеративно: например, есть понимание как добавить функционал с получением цены -> также стало понятно как это проверить на контракте -> идешь и делаешь пока не получиться (при этом пользуясь докой solidity, chainlink и шпаргалками solidity-by-example если нужно). Это позволит хорошо закрепить материал.

1. Понимание как работать с эфиром на контрактах:
    - работа и с глобальной переменной `msg.value`
    - отправка эфира через `transfer`, `send` и `call`
    - работа с функциями `receive` и `fallback`
2. Понимание как получить цену из оракла для нужной пары токенов;
3. Как использовать библиотеки, как сделать свою библиотеку и использовать для определенного типа;
4. Итерация по массиву, сброс массива;
5. Написание и использование собственного модификатора;
6. Написание кастомных ошибок вместо `require`;
7. Небольшие оптимизации по газу.

## Вопросы по теории

1. Какие данные попадают в транзакцию при отправке эфира? Какие поля там будут?
2. Зачем нужна переменная `msg.value`? Какие еще существуют глобальные переменные?
3. За что отвечают поля `inputs` и `outputs` в ABI функции?
4. Какой модификатор обязателен для функции принимающей эфир? Как переменную типа `address` переопределить, чтобы можно было отправить эфир с этого адреса?
5. Что произойдет если перед тем как транзакция ревертнется мы успеем сделать запись в переменную из `storage`?
6. Когда `view` функцию вызывает другой контракт это стоит газа или нет?
7. Как работать с числами с плавающей точкой в solidity? Что такое `decimals`? Для чего нужен `decimals` при расчете цен токенов?
8. Зачем в функции `getPrice`  при получении значения `answer` запятые перед и после значения? Как ты объяснишь запись `uint256(answer * 10000000000)`?
```js
    function getPrice() internal view returns (uint256) {
        AggregatorV3Interface priceFeed = AggregatorV3Interface(
            0xD4a33860578De61DBAbDc8BFdb98FD742fA7028e
        );
        (, int256 answer, , , ) = priceFeed.latestRoundData();

        return uint256(answer * 10000000000);
    }
```
9. Как сбросить все значения массива?
10. Рассказать про три способа отправки эфира. Какой способ предпочтительный и почему? Как и зачем предавать данные в `call`?
11. Посмотри код ниже, объясни что тут происходит. Что означает запись `address(this).balance`?
```js
    (bool callSuccess, ) = payable(msg.sender).call{value: address(this).balance}("");
    require(callSuccess, "Call failed");
```
12. Как написать кастомный модификатор? Может ли кастомный модификатор принимать аргументы? Можно ли писать код в модификаторе после `_;`?
13. Для чего нужны `receive` и `fallback`? Когда их нужно использовать? Что будет если мы отправим эфир на контракт но там не будет этих функций? Как связаны `msg.data` и `fallback`?
14. Что такое оракулы? Какую проблему они решают? Для чего используются кроме получения цены токенов?


